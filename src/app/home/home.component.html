<div class="flex h-screen bg-gray-100">
  <!-- Sidebar -->
  <div class="hidden md:flex flex-col w-64 bg-white border-r">
    <div class="flex items-center justify-center h-16 bg-white border-b">
      <img class="w-16 h-16 object-contain" src="assets/images/bluetask.png" alt="logo">
    </div>

    <div class="flex flex-col flex-1 overflow-y-auto">
      <nav class="flex-1 px-2 py-4 bg-gray-800">
        <ng-container *ngFor="let item of menu">
          <a
            [routerLink]="item.path"
            class="flex items-center px-4 py-2 text-gray-100 hover:bg-gray-700"
          >
            <i class="pi" [ngClass]="item.icon"></i>
            <span class="ml-3">{{ item.option }}</span>
          </a>
        </ng-container>
      </nav>
    </div>
  </div>

  <!-- Main content -->
  <div class="flex flex-col flex-1 overflow-y-auto">
    <div class="flex items-center justify-between h-16 bg-white border-b border-gray-200">
      <div class="flex items-center px-4 mr-4 font-sans text-base font-semibold">
        {{ firstSegment }}
      </div>
      <div class="flex items-center pr-4">
        <!-- Logout Button -->
        <button
          (click)="confirmLogout()"
          class="text-white bg-red-600 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5"
        >
          Logout
        </button>
      </div>
    </div>

    <div class="p-4">
      <router-outlet></router-outlet>
    </div>
  </div>
</div>

<!-- Logout Confirmation Dialog -->
<p-dialog
  [(visible)]="displayLogoutDialog"
  header="Logout Confirmation"
  [modal]="true"
  [closable]="false"
  [responsive]="true"
  styleClass="w-1/3"
>
  <p>Are you sure you want to log out?</p>
  <div class="flex justify-end gap-2 mt-4">
    <button
      (click)="onDialogReject()"
      class="px-4 py-2 text-gray-700 bg-gray-200 rounded hover:bg-gray-300"
    >
      Cancel
    </button>
    <button
      (click)="onDialogAccept()"
      class="px-4 py-2 text-white bg-red-600 rounded hover:bg-red-800"
    >
      Logout
    </button>
  </div>
</p-dialog>

<p-toast></p-toast>
